<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Campaign Response Prediction</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
body {
  background: url("https://images.unsplash.com/photo-1555949963-aa79dcee981c?auto=format&fit=crop&w=1600&q=80") 
              no-repeat center center fixed;
  background-size: cover;
  color: #fff;
}



    .overlay {
      background-color: rgba(0, 0, 0, 0.75);
      min-height: 100vh;
      padding: 20px;
    }
    .card {
      background: rgba(255,255,255,0.95);
      border-radius: 20px;
      box-shadow: 0px 4px 12px rgba(0,0,0,0.4);
    }
    .prediction-box {
      font-size: 2rem;
      font-weight: 900;
      padding: 20px;
      border-radius: 15px;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .prediction-yes {
      background-color: #28a745;
      color: white;
      box-shadow: 0 0 20px #28a745;
    }
    .prediction-no {
      background-color: #dc3545;
      color: white;
      box-shadow: 0 0 20px #dc3545;
    }
    .form-label {
      font-weight: 700; /* make headings bold */
      color: #222;
    }
    .form-text {
      font-size: 0.9rem;
      font-weight: 600; /* make descriptions bolder */
      color: #444;
    }
  </style>
</head>
<body>
  <div class="overlay">
    <div class="container mt-4">
      <h2 class="text-center mb-4 fw-bold">ðŸ“Š Campaign Response Prediction</h2>

      <!-- Result -->
      {% if prediction_text %}
        <div class="prediction-box text-center {% if 'Yes' in prediction_text %}prediction-yes{% else %}prediction-no{% endif %}">
          {{ prediction_text }}
        </div>
      {% endif %}

      <!-- Form -->
      <form method="POST" action="/predict" class="card p-4">
        <h4 class="mb-3 text-dark fw-bold">Enter Customer Information</h4>
        <div class="row g-3">
          <!-- Age -->
          <div class="col-md-3">
            <label class="form-label">Age</label>
            <input type="number" name="age" class="form-control"
                   value="{{ request.form.age or '' }}" required />
            <div class="form-text">Enter age in years (e.g., 18â€“100)</div>
          </div>

          <!-- Balance -->
          <div class="col-md-3">
            <label class="form-label">Balance</label>
            <input type="number" name="balance" class="form-control"
                   value="{{ request.form.balance or '' }}" required />
            <div class="form-text">Average yearly balance (can be negative or positive)</div>
          </div>

          <!-- Day -->
          <div class="col-md-3">
            <label class="form-label">Day</label>
            <input type="number" name="day" class="form-control"
                   min="1" max="31" value="{{ request.form.day or '' }}" required />
            <div class="form-text">Last contact day of the month (1â€“31)</div>
          </div>

          <!-- Duration -->
          <div class="col-md-3">
            <label class="form-label">Duration (sec)</label>
            <input type="number" name="duration" class="form-control"
                   value="{{ request.form.duration or '' }}" required />
            <div class="form-text">Duration of last call in seconds (0â€“5000)</div>
          </div>

          <!-- Campaign -->
          <div class="col-md-3">
            <label class="form-label">Campaign</label>
            <input type="number" name="campaign" class="form-control"
                   value="{{ request.form.campaign or '' }}" required />
            <div class="form-text">Number of contacts during this campaign</div>
          </div>

          <!-- Pdays -->
          <div class="col-md-3">
            <label class="form-label">Pdays</label>
            <input type="number" name="pdays" class="form-control"
                   value="{{ request.form.pdays or '' }}" required />
            <div class="form-text">Days since last contact (-1 means never)</div>
          </div>

          <!-- Previous -->
          <div class="col-md-3">
            <label class="form-label">Previous</label>
            <input type="number" name="previous" class="form-control"
                   value="{{ request.form.previous or '' }}" required />
            <div class="form-text">Number of contacts before this campaign</div>
          </div>

          <!-- Marital -->
          <div class="col-md-3">
            <label class="form-label">Marital</label>
            <select name="marital" class="form-select" required>
              <option value="">-- Select --</option>
              <option value="married" {% if request.form.marital=='married' %}selected{% endif %}>Married</option>
              <option value="single" {% if request.form.marital=='single' %}selected{% endif %}>Single</option>
              <option value="divorced" {% if request.form.marital=='divorced' %}selected{% endif %}>Divorced</option>
            </select>
            <div class="form-text">Marital status</div>
          </div>

          <!-- Education -->
          <div class="col-md-3">
            <label class="form-label">Education</label>
            <select name="education" class="form-select" required>
              <option value="">-- Select --</option>
              <option value="primary" {% if request.form.education=='primary' %}selected{% endif %}>Primary</option>
              <option value="secondary" {% if request.form.education=='secondary' %}selected{% endif %}>Secondary</option>
              <option value="tertiary" {% if request.form.education=='tertiary' %}selected{% endif %}>Tertiary</option>
              <option value="unknown" {% if request.form.education=='unknown' %}selected{% endif %}>Unknown</option>
            </select>
            <div class="form-text">Education level</div>
          </div>

          <!-- Default -->
          <div class="col-md-3">
            <label class="form-label">Default</label>
            <select name="default" class="form-select" required>
              <option value="">-- Select --</option>
              <option value="no" {% if request.form.default=='no' %}selected{% endif %}>No</option>
              <option value="yes" {% if request.form.default=='yes' %}selected{% endif %}>Yes</option>
            </select>
            <div class="form-text">Credit in default?</div>
          </div>

          <!-- Housing -->
          <div class="col-md-3">
            <label class="form-label">Housing</label>
            <select name="housing" class="form-select" required>
              <option value="">-- Select --</option>
              <option value="no" {% if request.form.housing=='no' %}selected{% endif %}>No</option>
              <option value="yes" {% if request.form.housing=='yes' %}selected{% endif %}>Yes</option>
            </select>
            <div class="form-text">Has housing loan?</div>
          </div>

          <!-- Loan -->
          <div class="col-md-3">
            <label class="form-label">Loan</label>
            <select name="loan" class="form-select" required>
              <option value="">-- Select --</option>
              <option value="no" {% if request.form.loan=='no' %}selected{% endif %}>No</option>
              <option value="yes" {% if request.form.loan=='yes' %}selected{% endif %}>Yes</option>
            </select>
            <div class="form-text">Has personal loan?</div>
          </div>

          <!-- Contact -->
          <div class="col-md-3">
            <label class="form-label">Contact</label>
            <select name="contact" class="form-select" required>
              <option value="">-- Select --</option>
              <option value="cellular" {% if request.form.contact=='cellular' %}selected{% endif %}>Cellular</option>
              <option value="telephone" {% if request.form.contact=='telephone' %}selected{% endif %}>Telephone</option>
              <option value="unknown" {% if request.form.contact=='unknown' %}selected{% endif %}>Unknown</option>
            </select>
            <div class="form-text">Type of contact communication</div>
          </div>

          <!-- Month -->
          <div class="col-md-3">
            <label class="form-label">Month</label>
            <select name="month" class="form-select" required>
              <option value="">-- Select --</option>
              {% for m in ["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"] %}
                <option value="{{m}}" {% if request.form.month==m %}selected{% endif %}>{{m|capitalize}}</option>
              {% endfor %}
            </select>
            <div class="form-text">Last contact month</div>
          </div>

          <!-- Poutcome -->
          <div class="col-md-3">
            <label class="form-label">Previous Outcome</label>
            <select name="poutcome" class="form-select" required>
              <option value="">-- Select --</option>
              <option value="unknown" {% if request.form.poutcome=='unknown' %}selected{% endif %}>Unknown</option>
              <option value="failure" {% if request.form.poutcome=='failure' %}selected{% endif %}>Failure</option>
              <option value="other" {% if request.form.poutcome=='other' %}selected{% endif %}>Other</option>
              <option value="success" {% if request.form.poutcome=='success' %}selected{% endif %}>Success</option>
            </select>
            <div class="form-text">Outcome of previous campaign</div>
          </div>
        </div>

        <hr class="my-3" />

        <!-- Jobs -->
        <div class="mb-2">
          <label class="form-label">Job (select all that apply)</label>
          <div class="row row-cols-2 row-cols-md-3 g-2">
            {% for job in ["job_admin.","job_blue_collar","job_entrepreneur","job_housemaid","job_management","job_retired","job_self-employed","job_services","job_student","job_technician","job_unemployed","job_unknown"] %}
              <div class="col">
                <input type="checkbox" name="{{job}}" {% if job in request.form %}checked{% endif %}/> {{job.replace("job_","")}}
              </div>
            {% endfor %}
          </div>
          <div class="form-text">Choose relevant job type(s)</div>
        </div>

        <button class="btn btn-primary mt-3 w-100 btn-lg shadow">ðŸš€ Predict</button>
      </form>
    </div>
  </div>
</body>
</html>
